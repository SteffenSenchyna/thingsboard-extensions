<div class="tb-form-panel">
  <div class="tb-form-panel-title">Channel {{ channelNumber }}</div>

  <!-- Temperature Alarm -->
  <div class="tb-form-panel stroked">
    <mat-expansion-panel [expanded]="temperatureAlarmEnableControl?.value" [formGroup]="temperatureAlarmConfig" class="tb-settings">
      <mat-expansion-panel-header class="flex-wrap">
        <mat-panel-title tb-hint-tooltip-icon="Creates an alarm when the value exceeds the threshold values.">
          <mat-slide-toggle (click)="$event.stopPropagation()" class="mat-slide" formControlName="enable">
            <mat-label>Temperature Alarm</mat-label>
          </mat-slide-toggle>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="tb-form-row space-between">
        <div class="fixed-title-width">Condition</div>
        <mat-form-field appearance="outline" subscriptSizing="dynamic">
          <mat-select formControlName="condition">
            <mat-option *ngFor="let option of alarmConditionOptions" [value]="option.value">
              {{ option.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="tb-form-row space-between">
        <div class="fixed-title-width">Threshold Min</div>
        <mat-form-field appearance="outline" subscriptSizing="dynamic">
          <input formControlName="thresholdMin"
                 matInput
                 placeholder="Set"
                 type="number"/>
          <span matSuffix>°C</span>
        </mat-form-field>
      </div>

      <div class="tb-form-row space-between">
        <div class="fixed-title-width">Threshold Max</div>
        <mat-form-field appearance="outline" subscriptSizing="dynamic">
          <input formControlName="thresholdMax"
                 matInput
                 placeholder="Set"
                 type="number"/>
          <span matSuffix>°C</span>
        </mat-form-field>
      </div>

      <div class="tb-form-row space-between column-xs">
        <div class="fixed-title-width">Reporting Interval</div>
        <tb-slider-input
          [allowExponential]="false"
          [allowNegative]="false"
          [max]="5"
          [min]="1"
          [step]="1"
          formControlName="alarmReportingInterval"
          placeholder="Set"
          unit="min">
        </tb-slider-input>
      </div>

      <div class="tb-form-row space-between column-xs">
        <div class="fixed-title-width">Reporting Times</div>
        <tb-slider-input
          [allowExponential]="false"
          [allowNegative]="false"
          [max]="5"
          [min]="1"
          [step]="1"
          formControlName="alarmReportingTimes"
          placeholder="Set"
        >
        </tb-slider-input>
      </div>

      <div class="tb-form-row"
           tb-hint-tooltip-icon="Clears the alarm when the value returns within the threshold range.">
        <mat-slide-toggle class="mat-slide" formControlName="alarmReleaseEnable">
          Alarm Clear
        </mat-slide-toggle>
      </div>
    </mat-expansion-panel>
  </div>

  <!-- Mutation Alarm -->
  <div class="tb-form-panel stroked">
    <mat-expansion-panel [expanded]="mutationAlarmEnableControl?.value" [formGroup]="mutationAlarmConfig" class="tb-settings">
      <mat-expansion-panel-header class="flex-wrap">
        <mat-panel-title tb-hint-tooltip-icon="Creates an alarm when the absolute difference between consecutive readings exceeds the threshold value.">
          <mat-slide-toggle (click)="$event.stopPropagation()" class="mat-slide" formControlName="enable">
            <mat-label>Mutation Alarm</mat-label>
          </mat-slide-toggle>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="tb-form-row space-between">
        <div class="fixed-title-width">Mutation Value</div>
        <mat-form-field appearance="outline" subscriptSizing="dynamic">
          <input formControlName="mutation" matInput type="number"/>
          <span matSuffix>°C</span>
        </mat-form-field>
      </div>
    </mat-expansion-panel>
  </div>
</div>
